<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jomalone_login</title>
    <!-- 폰트어썸연결 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
    <!-- 제이쿼리 연결 -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!-- js연결 -->
    <script src="./custom.js"></script>
    <!-- css 연결 -->
    <link rel="stylesheet" href="./join.css">
    <link rel="stylesheet" href="./font/stylesheet.css">
</head>

<body>
    <ul class="top_banner">
        <li>
            <a href="#">
                * 모든 구매 시 원하는 샘플 2종을 직접 선택하여 센트 페어링을 경험해 보세요.
            </a>
        </li>
        <li>
            <a href="#">
                * 하일랜드 리미티드 컬렉션 제품 2개 이상 구매 시, 리미티드 스퀘어 박스 포장 서비스를 제공해 드립니다.
            </a>
        </li>
        <li>
            <a href="#">
                * 모든 구매 고객님께 리미티드 센트를 먼저 경험해 보실 수 있는 리쿼터치 센티드 카드를 선물로 드립니다.
            </a>
        </li>
        <li>
            <a href="#">
                * 첫 구매 시 피오니 앤 블러쉬 스웨이드 코롱 9ML를 선물로 드립니다. (쿠폰코드:WELCOME)
            </a>
        </li>
    </ul>
    <div class="login_title">
        <video src="./images/visualmain.mp4" muted loop autoplay></video>
        <div class="title_txt">
            <P class="title">
                회원가입
            </P>
            <div class="sub_title">
                <SPAN>JOMALONE LONDON</SPAN>과 함께 해 주셔서 감사합니다.
            </div>
        </div>
    </div><!-- login_title -->
    <div class="map">
        <a href="/index.html">Home</a>
        <i class="fas fa-angle-right"></i>
        <a href="../JOMALONE_login/login.html">login</a>
        <i class="fas fa-angle-right"></i>
        <a href="../JOMALONE_terms/terms.html">약관동의</a>
        <i class="fas fa-angle-right"></i>
        <a href="./join.html">개인정보작성</a>
    </div>
    <!-- 이름/아이디/비번/비번확인/휴대폰번호/인증요청/생일 -->
    <section class="join">
        <div class="join_inner">
            <div class="join_title">
                <p>회원가입</p>
                <p><span>JOMALONE LONDON</span> 에서만의 다양한 혜택과 이벤트를 즐기실 수 있습니다.</p>
            </div><!-- terms_title -->
        </div>

        <!-- 회원가입 폼 시작 -->
        <form class="join_form">
            <div class="wrapping">
                <!-- content-->
                <div id="content">

                    <!-- ID -->
                    <div>
                        <h3 class="join_title">
                            <label for="id">아이디 (필수) <span class="sub">* 5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용
                                    가능합니다.</span></label>
                        </h3>
                        <input type="text" id="id" class="int" maxlength="20" placeholder="아이디를 입력해 주세요.">
                        <span class="error_next_box"></span>
                    </div>

                    <!-- PW -->
                    <div class="pw">
                        <h3 class="join_title"><label for="pswd1">비밀번호 (필수) <span class="sub">* 8~16자 영문 대 소문자, 숫자,
                                    특수문자를
                                    사용하세요.</span></label></h3>
                        <input type="password" id="pswd1" class="int" maxlength="20" placeholder="비밀번호를 입력해 주세요.">
                        <img src="./images/m_icon_pass.png" id="pswd1_img1" class="pswdImg">
                        <span class="error_next_box"></span>
                    </div>

                    <!-- PW_check -->
                    <div class="pw">
                        <h3 class="join_title"><label for="pswd2">비밀번호 재확인 (필수)</label></h3>
                        <input type="password" id="pswd2" class="int" maxlength="20" placeholder="비밀번호를 확인해 주세요.">
                        <img src="./images/m_icon_check_disable.png" id="pswd2_img1" class="pswdImg">
                        <span class="error_next_box"></span>
                    </div>

                    <!-- NAME -->
                    <div>
                        <h3 class="join_title"><label for="name">이름 (필수) <span class="sub">* 한글과 영문 대 소문자를 사용하세요. (특수기호,
                                    공백
                                    사용
                                    불가)</span></label></h3>
                        <input type="text" id="name" class="int" maxlength="20" placeholder="이름을 입력해 주세요.">
                        <span class="error_next_box"></span>
                    </div>

                    <!-- BIRTH -->
                    <div>
                        <h3 class="join_title"><label for="yy">생년월일 (필수)</label></h3>

                        <div id="bir_wrap">
                            <!-- BIRTH_YY -->
                            <div id="bir_yy">
                                <input type="text" id="yy" class="int" maxlength="4" placeholder="년(4자)">
                            </div>
                            <!-- BIRTH_MM -->
                            <div id="bir_mm">
                                <select id="mm" class="sel">
                                    <option>월</option>
                                    <option value="01">1월</option>
                                    <option value="02">2월</option>
                                    <option value="03">3월</option>
                                    <option value="04">4월</option>
                                    <option value="05">5월</option>
                                    <option value="06">6월</option>
                                    <option value="07">7월</option>
                                    <option value="08">8월</option>
                                    <option value="09">9월</option>
                                    <option value="10">10월</option>
                                    <option value="11">11월</option>
                                    <option value="12">12월</option>
                                </select>
                            </div>

                            <!-- BIRTH_DD -->
                            <div id="bir_dd">
                                <input type="text" id="dd" class="int" maxlength="2" placeholder="일">
                            </div>

                        </div>
                        <span class="error_next_box"></span>
                    </div>

                    <!-- GENDER -->
                    <div>
                        <h3 class="join_title"><label for="gender">성별 (선택)</label></h3>
                        <div>
                            <select id="gender" class="sel">
                                <option value="성별을 선택해 주세요.">성별을 선택해 주세요.</option>
                                <option value="M">남자</option>
                                <option value="F">여자</option>
                            </select>
                        </div>
                    </div>

                    <!-- EMAIL -->
                    <div class="email_wrap">
                        <h3 class="join_title"><label for="email">이메일 (선택)</label></h3>
                        <div class="email_code">
                            <input type="text" id="email" class="int" maxlength="100" placeholder=""><span>@</span>
                            <input type="text" id="email_add" class="int">
                            <select name="email_sel" id="email_sel" class="sel" onchange="change_email();">
                                <option value="">직접입력</option>
                                <option value="naver.com">naver</option>
                                <option value="daum.com">daum</option>
                                <option value="google.com">google</option>
                                <option value="gmail.com">gmail</option>
                                <option value="nate.com">nate</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- content-->
            </div>
            <!--  wrapping -->
        </form>

        <!-- JOIN BTN-->
        <div class="btn_area">
            <button type="button" id="btnJoin" onclick="check()">
                <span>가입하기</span>
        </div>
        <div class="btn_history">
            <button type="button" id="btnHistory">
                <span><i class="fas fa-angle-double-left"></i>뒤로가기</span>
        </div>


        <script>
            function change_email() {
                var email_add = document.getElementById("email_add");
                var email_sel = document.getElementById("email_sel");

                //지금 골라진 옵션의 순서와 값 구하기
                var idx = email_sel.options.selectedIndex;
                var val = email_sel.options[idx].value;

                email_add.value = val;
            }

            /*변수 선언*/


            var id = document.querySelector('#id');
            var pw1 = document.querySelector('#pswd1');
            var pw2 = document.querySelector('#pswd2');
            var pwMsgArea = document.querySelector('.int_pass');
            var userName = document.querySelector('#name');
            var yy = document.querySelector('#yy');
            var mm = document.querySelector('#mm');
            var dd = document.querySelector('#dd');
            var gender = document.querySelector('#gender');
            var email = document.querySelector('#email');
            var error = document.querySelectorAll('.error_next_box');



            /*이벤트 핸들러 연결*/


            id.addEventListener("focusout", checkId);
            pw1.addEventListener("focusout", checkPw);
            pw2.addEventListener("focusout", comparePw);
            userName.addEventListener("focusout", checkName);
            yy.addEventListener("focusout", isBirthCompleted);
            mm.addEventListener("focusout", isBirthCompleted);
            dd.addEventListener("focusout", isBirthCompleted);
            gender.addEventListener("focusout", genderSelect);


            /*콜백 함수*/

            /*ID*/
            function checkId() {
                var idPattern = /[a-zA-Z0-9_-]{5,20}/; //정규식
                if (id.value === "") {
                    error[0].innerHTML = "필수 정보입니다.";
                    error[0].style.display = "block";
                    error[0].style.color = "red";
                    return false;
                } else if (!idPattern.test(id.value)) {
                    error[0].innerHTML = "사용하실 수 없는 아이디 입니다..";
                    error[0].style.display = "block";
                    error[0].style.color = "red";
                    return false;
                } else {
                    error[0].innerHTML = "사용가능한 아이디입니다.";
                    error[0].style.color = "#08A600";
                    error[0].style.display = "block";
                    return true;
                }
            }

            /*PW*/
            function checkPw() {
                var pwPattern = /[a-zA-Z0-9~!@#$%^&*()_+|<>?:{}]{8,16}/;
                if (pw1.value === "") {
                    error[1].innerHTML = "필수 정보입니다.";
                    error[1].style.display = "block";
                    error[1].style.color = "red";
                    return false;
                } else if (!pwPattern.test(pw1.value)) {
                    error[1].innerHTML = "사용하실 수 없는 비밀번호 입니다.";
                    error[1].style.display = "block";
                    error[1].style.color = "red";
                    return false;
                } else {
                    error[1].innerHTML = "사용가능한 비밀번호입니다.";
                    error[1].style.color = "#08A600";
                    return true;
                }
            }

            /*PW2*/
            function comparePw() {
                if (pw2.value !== pw1.value) {
                    error[2].innerHTML = "비밀번호가 일치하지 않습니다.";
                    error[2].style.display = "block";
                    error[2].style.color = "red";
                    return false;
                } else if (pw2.value === "") {
                    error[2].innerHTML = "필수 정보입니다.";
                    error[2].style.display = "block";
                    error[2].style.color = "red";
                    return false;
                } else if (pw2.value === pw1.value && pw2.value != "") {
                    error[2].innerHTML = "비밀번호가 일치합니다.";
                    error[2].style.color = "#08A600";
                    error[2].style.display = "block";
                    return true;
                }

            }

            /*NAME*/
            function checkName() {
                var namePattern = /[a-zA-Z가-힣]/;
                if (userName.value === "") {
                    error[3].innerHTML = "필수 정보입니다.";
                    error[3].style.display = "block";
                    error[3].style.color = "red";
                    return false;
                } else if (!namePattern.test(userName.value) || userName.value.indexOf(" ") > -1) {
                    error[3].innerHTML = "사용이 어려운 이름입니다.";
                    error[3].style.display = "block";
                    error[3].style.color = "red";
                    return false;
                } else {
                    error[3].innerHTML = "확인되었습니다.";
                    error[3].style.color = "#08A600";
                    error[3].style.display = "block";
                    return true;
                }
            }

            /*BIRTH*/
            function isBirthCompleted() {
                var yearPattern = /[0-9]{4}/;

                if (!yearPattern.test(yy.value)) {
                    error[4].innerHTML = "태어난 년도 4자리를 정확하게 입력하세요.";
                    error[4].style.display = "block";
                    error[4].style.color = "red";
                    return false;
                } else {
                    isMonthSelected();
                    return true;
                }


                function isMonthSelected() {
                    if (mm.value === "월") {
                        error[4].innerHTML = "태어난 월을 선택하세요.";
                        error[4].style.display = "block";
                        error[4].style.color = "red";
                        return false;
                    } else {
                        isDateCompleted();
                        return true;
                    }
                }

                function isDateCompleted() {
                    if (dd.value === "") {
                        error[4].innerHTML = "태어난 일(날짜) 2자리를 정확하게 입력하세요.";
                        error[4].style.display = "block";
                        error[4].style.color = "red";
                        return false;
                    } else {
                        error[4].innerHTML = "확인되었습니다.";
                        error[4].style.display = "block";
                        error[4].style.color = "#08A600";
                        return true;
                    }
                }

            }
            /*회원가입 완료*/
            function check() {
                if (!(checkId())) {
                    id.focus();
                    return false;
                }
                if (!(checkPw())) {
                    pw1.focus();
                    return false;
                }
                if (!(comparePw())) {
                    pw2.focus();
                    return false;
                }
                if (!(checkName())) {
                    userName.focus();
                    return false;
                }
                if (!(isBirthCompleted())) {
                    return false;
                }
                /* if (!(genderSelect())) {
                    gender.focus();
                    return false;
                } */

                alert('회원가입이 완료되었습니다.');
                return true;
            }


            /*GENDER*/
            /* function genderSelect() {
                if (gender.value === "성별을 선택해 주세요.") {
                    error[5].style.display = "block";
                    error[5].style.color = "red";
                    return false;
                } else {
                    error[5].style.display = "none";
                    return true;
                }
            } */

        
        </script>
    </section>
</body>

</html>